<div class="container">
	<br>
	<div class="row">
		<div class="col-lg-4">
			<div class="xpage-header">
				<h1 id="forms">Control de facturas</h1>
			</div>
		</div>

		<div class="col-lg-8 well">
			<div class="row">
				<div class="col-lg-6">
					<label for="fechaDesde">Desde</label>
					<p class="input-group">
						<input type="text" class="form-control" id="fechaDesde" datepicker-popup="{{format}}" ng-model="desde"  is-open="openFechaDesde" datepicker-options="dateOptions" show-button-bar="false" show-weeks="false" ng-required="true" />
							<span class="input-group-btn">
								<button class="btn btn-default" ng-click="open($event, 'desde')"><i class="glyphicon glyphicon-calendar"></i></button>
							</span>
					</p>
				</div>
				<div class="col-lg-6">
					<label for="fechaHasta">Hasta</label>
					<p class="input-group">
						<input type="text" class="form-control" id="fechaHasta" datepicker-popup="{{format}}" ng-model="hasta"  is-open="openFechaHasta" datepicker-options="dateOptions" show-button-bar="false" show-weeks="false" ng-required="true" />
							<span class="input-group-btn">
								<button class="btn btn-default" ng-click="open($event, 'hasta')"><i class="glyphicon glyphicon-calendar"></i></button>
							</span>
					</p>
				</div>
			</div>
			<div class="row">
				<div class="col-lg-8">
					<label for="select" >Terminal</label>
					<select class="form-control" id="select" ng-model="terminalFacturas">
						<option value="BACTSSA" ng-selected="true" >BACTSSA</option>
						<option value="TRP">TERMINAL RIO DE LA PLATA</option>
						<option value="TERMINAL4">TERMINAL 4</option>
					</select>
				</div>
				<div class="col-lg-4">
					<br>
					<button class="btn btn-default" ui-sref="control"><span class="glyphicon glyphicon-arrow-left"></span> Volver</button>
					<button class="btn btn-primary" ng-click="cargar()"><span class="glyphicon glyphicon-asterisk"></span> Cargar</button>
				</div>
			</div>
		</div>
	</div>

	<div data-ng-hide="$state.includes('cfacturas.result')" class="row">

		<tabset ng-show="terminoCarga" justified="true">
			<tab ng-repeat="tab in tabs" heading="{{tab.title}}" active="tab.active" >
				<div class="row">
					<div class="col-lg-11">
						<div class="xpage-header">
							<h1>Control de correlatividad</h1>
						</div>
					</div>
				</div>

				<div class="col-lg-11 well">
					<div class="panel {{ tab.cartelCorrelativo }}">
						<div class="panel-heading">
							<h3 class="panel-title">{{ tab.tituloCorrelativo }}</h3>
						</div>
						<div class="panel-body">
							<p>{{ tab.mensajeCorrelativo }}</p>
							<span ng-repeat="numero in tab.resultadoCorrelativo">{{ numero }}<span ng-show="!$last"> - </span></span>
						</div>
					</div>
				</div>

				<div class="row">
					<div class="col-lg-11">
						<div class="xpage-header">
							<h1>Control de c√≥digos</h1>
						</div>
					</div>
				</div>

				<div class="col-lg-11 well">
					<div class="panel {{ tab.cartelCodigos }}">
						<div class="panel-heading">
							<h3 class="panel-title">{{ tab.tituloCodigos }}</h3>
						</div>
						<div class="panel-body">
							<p>{{ tab.mensajeCodigos }}</p>
							<span ng-repeat="numero in tab.resultadoCodigos">{{ numero }}<span ng-show="!$last"> - </span></span>
						</div>
					</div>

					<table ng-show="tab.mostrarResultado" class="table table-striped table-bordered table-hover">
						<thead>
						<tr>
							<th>Comprobante</th>
							<th>Razon Social</th>
							<th>Fecha</th>
							<th>Importe Total</th>
							<!--<th>Detalles</th>-->
						</tr>
						</thead>
						<tbody>
						<tr ng-repeat="factura in tab.facturasRotas">
							<td>{{ factura.nroComprob }}</td>
							<td>{{ factura.razon }}</td>
							<td>{{ factura.fecha.emision | date: 'dd/MM/yyyy' }}</td>
							<td>${{ factura.importe.total }}</td>
							<!--<td><button ui-sref="invoices.result" class="btn btn-primary" type="button" ng-click="cargar(invoice); $parent.onOff = !$parent.onOff">M&aacute;s detalles</button></td>-->
						</tr>
						</tbody>
					</table>
				</div>

			</tab>

			<tab heading="Tasa a las cargas">
				<div class="row">
					<div class="col-lg-11">
						<div class="xpage-header">
							<h1>Control de Tasa a las cargas</h1>
						</div>
					</div>
				</div>

				<div class="col-lg-11 well">
					<div class="panel {{ tasaCargas.cartel }}">
						<div class="panel-heading">
							<h3 class="panel-title">{{ tasaCargas.titulo }}</h3>
						</div>
						<div class="panel-body">
							<p>{{ tasaCargas.mensaje }}</p>
						</div>
					</div>

					<table ng-show="tasaCargas.mostrarResultado" class="table table-striped table-bordered table-hover">
						<thead>
						<tr>
							<th>Comprobante</th>
							<th>Razon Social</th>
							<th>Fecha</th>
							<th>Importe Total</th>
							<th>Detalles</th>
						</tr>
						</thead>
						<tbody>
						<tr ng-repeat="factura in tasaCargas.resultado">
							<td>{{ factura.nroComprob }}</td>
							<td>{{ factura.razon }}</td>
							<td>{{ factura.fecha.emision | date: 'dd/MM/yyyy' }}</td>
							<td>{{ factura.codMoneda | formatCurrency }} {{ factura.importe.total | currency }}</td>
							<td><button ui-sref=".result" class="btn btn-primary" ng-click="mostrarDetalle(factura)"><span class="glyphicon glyphicon-zoom-in"></span> M&aacute;s detalles</button></td>
						</tr>
						</tbody>
					</table>
					<pagination boundary-links="true" total-items="totalItemsTasaCargas" ng-model="$parent.currentPageTasaCargas" max-size="5" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></pagination>
				</div>
			</tab>
		</tabset>

		<div class="row" style="float: right">
			<pie-chart3d data="chartData" title="{{chartTitle}}"
			             width="{{chartWidth}}" height="{{chartHeight}}"
			             select="selectRow(selectedRowIndex)"></pie-chart3d>
		</div>

	</div>

	<div data-ng-show="$state.includes('cfacturas.result')">
		<div ui-view></div>
	</div>

	<br>
</div>