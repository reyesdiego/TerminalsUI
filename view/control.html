<div class="container" ng-controller="controlCtrl">

	<div class="row">
		<div class="col-lg-3">
			<br>
			<div class="xpage-header">
				<h1 id="forms">Panel de control</h1>
			</div>
		</div>
		<div class="col-lg-9">
			<br>
			<div class="btn-group btn-group-justified">
				<a ui-sref="cfacturas" class="btn btn-default"><img src="images/invoices.png"><br>Comprobantes</a>
				<a ui-sref="gates" class="btn btn-default"><img src="images/container.png"><br>Gates</a>
				<a ui-sref="turnos" class="btn btn-default"><img src="images/calendar.png"><br>Turnos</a>
			</div>
		</div>
	</div>

	<div class="row"><p></p>
		<div class="col-lg-12">
			<div class="control-label">
				<span><strong>D&iacute;a: {{ fecha | date: 'dd/MM/yyyy' }}</strong></span>
			</div>
			<div class="row">
				<div class="col-lg-3 list-group-item">
					<span>Cantidad de Facturas</span>
					<span class="badge text-right">{{ control.invoicesCount }}</span>
				</div>
				<div class="col-lg-3 list-group-item">
					<span>Cantidad de tasas AGP</span>
					<span class="badge text-right">{{ control.ratesCount }}</span>
				</div>
				<div class="col-lg-3 list-group-item">
					<span>Precio total tasas AGP</span>
					<span class="badge text-right">{{ control.ratesTotal | currency }}</span>
				</div>
				<div class="col-lg-3 list-group-item">
					<span>Precio total facturas</span>
					<span class="badge text-right">{{ control.tasasTotal | currency }}</span>
				</div>
			</div>
		</div>
	</div>

	<div class="row">
		<br>
		<div class="col-lg-3">
			<column-chart-stack data="chartData" title="{{chartTitle}}"
								width="{{chartWidth}}" height="{{chartHeight}}"
								select="selectRow(selectedRowIndex)"></column-chart-stack>
		</div>

		<div class="col-lg-4">
			<p class="input-group">
				<input type="text" readonly="true" class="form-control" datepicker-popup="{{format}}" ng-model="desdeTasas" />
				<span class="input-group-btn">
					<button class="btn btn-default" ng-click="isCollapsedDayTasas = !isCollapsedDayTasas"><i class="glyphicon glyphicon-calendar"></i></button>
				</span>
			</p>
			<div collapse="isCollapsedDayTasas">
				<div class="well well-lg">
					<datepicker ng-model="desdeTasas" show-weeks="false" ng-change="traerDatosFacturadoDiaTasas()"></datepicker>
				</div>
			</div>
			<div collapse="!isCollapsedDayTasas">
				<column-chart-stack data="chartDataFacturadoTasas" title="{{chartTitleFacturadoTasas}}"
									width="{{chartsWidth}}" height="{{chartsHeight}}"
									select="selectRow(selectedRowIndexFacturadoTasas)"></column-chart-stack>
			</div>
		</div>

		<div class="col-lg-4">
			<p class="input-group">
				<input type="text" readonly="true" class="form-control" datepicker-popup="{{format}}" ng-model="desde" />
				<span class="input-group-btn">
					<button class="btn btn-default" ng-click="isCollapsedDay = !isCollapsedDay"><i class="glyphicon glyphicon-calendar"></i></button>
				</span>
			</p>
			<div collapse="isCollapsedDay">
				<div class="well well-lg">
					<datepicker ng-model="desde" show-weeks="false" ng-change="traerDatosFacturadoDia()"></datepicker>
				</div>
			</div>
			<div collapse="!isCollapsedDay">
				<column-chart data="chartDataFacturado" title="{{chartTitleFacturado}}"
							  width="{{chartsWidth}}" height="{{chartsHeight}}"
							  select="selectRow(selectedRowIndexFacturado)" series="chartSeries"></column-chart>
			</div>
		</div>

	</div>

	<div class="row">
		<div class="col-lg-4">
			<p class="input-group">
				<input type="text" readonly="true" class="form-control" datepicker-popup="{{formatSoloMes}}" ng-model="mesDesde" />
				<span class="input-group-btn">
					<button class="btn btn-default" ng-click="isCollapsedMonth = !isCollapsedMonth"><i class="glyphicon glyphicon-calendar"></i></button>
				</span>
			</p>
			<div collapse="isCollapsedMonth">
				<div class="well well-lg">
					<datepicker ng-model="mesDesde" min-mode="month" datepicker-mode="monthMode" show-weeks="false" ng-change="traerDatosFacturadoMes()"></datepicker>
				</div>
			</div>
			<div collapse="!isCollapsedMonth">
				<column-chart data="chartDataFacturas" title="{{chartTitleFacturas}}"
							  width="{{chartsWidth}}" height="{{chartsHeight}}"
							  select="selectRow(selectedRowIndexFacturas)" series="chartSeries"></column-chart>
			</div>
		</div>

		<div class="col-lg-4">
			<p class="input-group">
				<input type="text" readonly="true" class="form-control" datepicker-popup="{{formatSoloMes}}" ng-model="mesDesdeGates" />
				<span class="input-group-btn">
					<button class="btn btn-default" ng-click="isCollapsedGates = !isCollapsedGates"><i class="glyphicon glyphicon-calendar"></i></button>
				</span>
			</p>
			<div collapse="isCollapsedGates">
				<div class="well well-lg">
					<datepicker ng-model="mesDesdeGates" min-mode="month" datepicker-mode="monthMode" show-weeks="false" ng-change="traerDatosGates()"></datepicker>
				</div>
			</div>
			<div collapse="!isCollapsedGates">
				<column-chart data="chartDataGates" title="{{chartTitleGates}}"
							  width="{{chartsWidth}}" height="{{chartsHeight}}"
							  select="selectRow(selectedRowIndexGates)" series="chartSeries"></column-chart>
			</div>
		</div>

		<div class="col-lg-4">
			<p class="input-group">
				<input type="text" readonly="true" class="form-control" datepicker-popup="{{formatSoloMes}}" ng-model="mesDesdeTurnos" />
				<span class="input-group-btn">
					<button class="btn btn-default" ng-click="isCollapsedTurnos = !isCollapsedTurnos"><i class="glyphicon glyphicon-calendar"></i></button>
				</span>
			</p>
			<div collapse="isCollapsedTurnos">
				<div class="well well-lg">
					<datepicker ng-model="mesDesdeTurnos" min-mode="month" datepicker-mode="monthMode" show-weeks="false" ng-change="traerDatosTurnos()"></datepicker>
				</div>
			</div>
			<div collapse="!isCollapsedTurnos">
				<column-chart data="chartDataTurnos" title="{{chartTitleTurnos}}"
							  width="{{chartsWidth}}" height="{{chartsHeight}}"
							  select="selectRow(selectedRowIndexTurnos)" series="chartSeries"></column-chart>
			</div>
		</div>
	</div>

	<div class="row">
		<div class="col-lg-4 col-lg-offset-3">
			<p class="input-group">
				<input type="text" readonly="true" class="form-control" datepicker-popup="{{format}}" ng-model="diaGatesTurnos" />
				<span class="input-group-btn">
					<button class="btn btn-default" ng-click="isCollapsedDayGatesTurnos = !isCollapsedDayGatesTurnos"><i class="glyphicon glyphicon-calendar"></i></button>
				</span>
			</p>
			<div collapse="isCollapsedDayGatesTurnos">
				<div class="well well-lg">
					<datepicker ng-model="diaGatesTurnos" show-weeks="false" ng-change="traerDatosGatesTurnosDia()"></datepicker>
				</div>
			</div>
		</div>
		<div class="col-lg-2">
			<div class="btn-group">
				<label class="btn btn-primary" ng-model="radioModel" btn-radio="'Gates'" ng-change="traerDatosGatesTurnosDia()">Gates</label>
				<label class="btn btn-primary" ng-model="radioModel" btn-radio="'Turnos'" ng-change="traerDatosGatesTurnosDia()">Turnos</label>
			</div>
		</div>
		<div class="col-lg-12" collapse="!isCollapsedDayGatesTurnos">
			<div class="table-responsive">
				<column-chart data="chartDataDiaGatesTurnos" title="{{chartTitleDiaGatesTurnos}}"
							  width="{{chartWidthDiaGatesTurnos}}" height="{{chartsHeight}}"
							  select="selectRow(selectedRowIndexFacturado)" series="chartSeries"></column-chart>
			</div>
		</div>
	</div>
</div>
