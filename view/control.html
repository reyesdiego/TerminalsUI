<div class="container agp">

	<div class="row">
		<div class="col-lg-3">
			<h1 id="forms">Panel de control</h1>
		</div>
		<div class="col-lg-9">
			<br>
			<div class="btn-group btn-group-justified">
				<a ui-sref="cfacturas" class="btn btn-default"><img src="images/invoices.png"><br>Comprobantes</a>
				<a ui-sref="gates" class="btn btn-default"><img src="images/container.png"><br>Gates</a>
				<a ui-sref="turnos" class="btn btn-default"><img src="images/calendar.png"><br>Turnos</a>
			</div>
		</div>
	</div>
	<div class="row"><p></p>
		<div class="col-lg-12">
			<div class="control-label">
				<span><strong>D&iacute;a: {{ fecha | date: 'dd/MM/yyyy' }}</strong></span>
			</div>
			<div class="row">
				<div class="col-lg-3 col-md-3 col-sm-6 list-group-item">
					<span>Cantidad de Facturas</span>
					<span class="badge text-right">{{ control.invoicesCount }}</span>
				</div>
				<div class="col-lg-3 col-md-3 col-sm-6 list-group-item">
					<span>Cantidad de tasas AGP</span>
					<span class="badge text-right">{{ control.ratesCount }}</span>
				</div>
				<div class="col-lg-3 col-md-3 col-sm-6 list-group-item">
					<span>Precio total tasas AGP</span>
					<span class="badge text-right">{{ prefijo }} {{ control.ratesTotal | currency }}</span>
				</div>
				<div class="col-lg-3 col-md-3 col-sm-6 list-group-item">
					<span>Precio total facturas</span>
					<span class="badge text-right">{{ control.tasasTotal | currency }}</span>
				</div>
			</div>
		</div>
	</div>

	<div class="row">
		<br>
		<div class="col-lg-4" ng-show="loadingTotales">
			<img class="media-object" style="margin-left: 50px; margin-top: 50px" src="images/ajax_loader_gray_512.gif" width="252" height="252">
		</div>
		<div class="col-lg-3" ng-hide="loadingTotales || errorTotales">
			<dynamic-chart
					data="chartData"
					title="{{chartTitle}}"
					width="{{chartWidth}}"
					height="{{chartHeight}}"
					select="selectRow(selectedRowIndex)"
					type="{{columnChart}}"
					is3-d="false"
					stacked="true"
					currency="false">
			</dynamic-chart>
		</div>
		<div class="col-lg-4" ng-show="errorTotales">
			<div class="alert alert-danger">
				<strong>Error</strong> - No se han podido cargar los datos de las facturadas enviadas.
				<h6>{{mensajeErrorTotales}}</h6>
				<span>Presione <a href ng-click="traerDatosFacturadoDiaTasas()">aquí</a> para reintentar.</span>
			</div>
		</div>


		<div class="col-lg-4" ng-show="loadingTasas">
			<img class="media-object" style="margin-left: 50px; margin-top: 50px" src="images/ajax_loader_gray_512.gif" width="252" height="252">
		</div>
		<div class="col-lg-4" ng-hide="loadingTasas || errorCargaTasas">
			<p class="input-group">
				<input type="text" readonly="true" class="form-control" datepicker-popup="{{format}}" ng-model="desdeTasas" />
				<span class="input-group-btn">
					<button class="btn btn-default" ng-click="isCollapsedDayTasas = !isCollapsedDayTasas"><i class="glyphicon glyphicon-calendar"></i></button>
				</span>
			</p>
			<div collapse="isCollapsedDayTasas">
				<div class="well well-lg">
					<datepicker ng-model="desdeTasas" show-weeks="false" ng-change="traerDatosFacturadoDiaTasas()" max-date="maxDate"></datepicker>
				</div>
			</div>
			<div collapse="!isCollapsedDayTasas">
				<dynamic-chart
						data="chartDataFacturadoTasas"
						title="{{chartTitleFacturadoTasas}}"
						width="{{chartsWidthTasas}}"
						height="{{chartsHeight}}"
						select="selectRow(selectedRowIndexFacturadoTasas)"
						type="{{columnChart}}"
						stacked="true"
						currency="true"
						is3-d="false"
						money="moneda">
				</dynamic-chart>
			</div>
		</div>
		<div class="col-lg-4" ng-show="errorCargaTasas">
			<div class="alert alert-danger">
				<strong>Error</strong> - No se han podido cargar los datos de los facturado por tasas a las cargas.
				<h6>{{mensajeErrorCargaTasas}}</h6>
				<span>Presione <a href ng-click="traerDatosFacturadoDiaTasas()">aquí</a> para reintentar.</span>
			</div>
		</div>

		<div class="col-lg-5" ng-show="loadingFacturadoDia">
			<img class="media-object" style="margin-left: 50px; margin-top: 50px" src="images/ajax_loader_gray_512.gif" width="252" height="252">
		</div>
		<div class="col-lg-5" ng-hide="loadingFacturadoDia || errorFacturadoDia">
			<p class="input-group col-lg-8 col-lg-offset-1">
				<input type="text" readonly="true" class="form-control" datepicker-popup="{{format}}" ng-model="desde" />
				<span class="input-group-btn">
					<button class="btn btn-default" ng-click="isCollapsedDay = !isCollapsedDay"><i class="glyphicon glyphicon-calendar"></i></button>
				</span>
			</p>
			<div collapse="isCollapsedDay">
				<div class="well well-lg">
					<datepicker ng-model="desde" show-weeks="false" ng-change="traerDatosFacturadoDia()" max-date="maxDate"></datepicker>
				</div>
			</div>
			<div collapse="!isCollapsedDay">
				<dynamic-chart
						data="chartDataFacturado"
						title="{{chartTitleFacturado}}"
						width="{{chartsWidthFacturado}}"
						height="{{chartsHeight}}"
						select="selectRow(selectedRowIndexFacturado)"
						series="chartSeries"
						colors="barColors"
						type="{{columnChart}}"
						stacked="false"
						currency="true"
						is3-d="false"
						money="moneda">
				</dynamic-chart>
			</div>
		</div>
		<div class="col-lg-4" ng-show="errorFacturadoDia">
			<div class="alert alert-danger">
				<strong>Error</strong> - No se han podido cargar los datos de los facturado por día.
				<h6>{{mensajeErrorFacturadoDia}}</h6>
				<span>Presione <a href ng-click="traerDatosFacturadoDia()">aquí</a> para reintentar.</span>
			</div>
		</div>
	</div>

	<div class="row">
		<div class="col-lg-4" ng-show="loadingFacturadoMes">
			<img class="media-object" style="margin-left: 50px; margin-top: 50px" src="images/ajax_loader_gray_512.gif" width="252" height="252">
		</div>
		<div class="col-lg-4" ng-hide="loadingFacturadoMes || errorFacturadoMes">
			<p class="input-group">
				<input type="text" readonly="true" class="form-control" datepicker-popup="{{formatSoloMes}}" ng-model="mesDesde" />
				<span class="input-group-btn">
					<button class="btn btn-default" ng-click="isCollapsedMonth = !isCollapsedMonth"><i class="glyphicon glyphicon-calendar"></i></button>
				</span>
			</p>
			<div collapse="isCollapsedMonth">
				<div class="well well-lg">
					<datepicker ng-model="mesDesde" min-mode="month" datepicker-mode="monthMode" show-weeks="false" ng-change="traerDatosFacturadoMes()" max-date="maxDate"></datepicker>
				</div>
			</div>
			<div collapse="!isCollapsedMonth">
				<dynamic-chart
						data="chartDataFacturas"
						title="{{chartTitleFacturas}}"
						width="{{chartsWidthFacturadoMes}}"
						height="{{chartsHeight}}"
						select="selectRow(selectedRowIndexFacturas)"
						series="chartSeries"
						colors="barColors"
						type="{{columnChart}}"
						stacked="false"
						currency="true"
						is3-d="false"
						money="moneda">
				</dynamic-chart>
			</div>
		</div>
		<div class="col-lg-4" ng-show="errorFacturadoMes">
			<div class="alert alert-danger">
				<strong>Error</strong> - No se han podido cargar los datos de los facturado por mes.
				<h6>{{mensajeErrorFacturadoMes}}</h6>
				<span>Presione <a href ng-click="traerDatosFacturadoMes()">aquí</a> para reintentar.</span>
			</div>
		</div>

		<div class="col-lg-4" ng-show="loadingGates">
			<img class="media-object" style="margin-left: 50px; margin-top: 50px" src="images/ajax_loader_gray_512.gif" width="252" height="252">
		</div>
		<div class="col-lg-4" ng-show="!loadingGates || errorGates" style="visibility: {{ visibleGates }}">
			<p class="input-group">
				<input type="text" readonly="true" class="form-control" datepicker-popup="{{formatSoloMes}}" ng-model="mesDesdeGates" />
				<span class="input-group-btn">
					<button class="btn btn-default" ng-click="isCollapsedGates = !isCollapsedGates"><i class="glyphicon glyphicon-calendar"></i></button>
				</span>
			</p>
			<div collapse="isCollapsedGates">
				<div class="well well-lg">
					<datepicker ng-model="mesDesdeGates" min-mode="month" datepicker-mode="monthMode" show-weeks="false" ng-change="traerDatosGates()" max-date="maxDate"></datepicker>
				</div>
			</div>
			<div collapse="!isCollapsedGates">
				<dynamic-chart
						data="chartDataGates"
						title="{{chartTitleGates}}"
						width="{{chartsWidth}}"
						height="{{chartsHeight}}"
						select="selectRow(selectedRowIndexGates)"
						series="chartSeries"
						colors="barColors"
						type="{{columnChart}}"
						stacked="false"
						currency="false"
						is3-d="false">
				</dynamic-chart>
			</div>
		</div>
		<div class="col-lg-4" ng-show="errorGates">
			<div class="alert alert-danger">
				<strong>Error</strong> - No se han podido cargar los datos de los gates.
				<h6>{{mensajeErrorGates}}</h6>
				<span>Presione <a href ng-click="traerDatosGates()">aquí</a> para reintentar.</span>
			</div>
		</div>

		<div class="col-lg-4" ng-show="loadingTurnos">
			<img class="media-object" style="margin-left: 50px; margin-top: 50px" src="images/ajax_loader_gray_512.gif" width="252" height="252">
		</div>
		<div class="col-lg-4" ng-hide="loadingTurnos || errorTurnos" style="visibility: {{ visibleTurnos }}">
			<p class="input-group">
				<input type="text" readonly="true" class="form-control" datepicker-popup="{{formatSoloMes}}" ng-model="mesDesdeTurnos" />
				<span class="input-group-btn">
					<button class="btn btn-default" ng-click="isCollapsedTurnos = !isCollapsedTurnos"><i class="glyphicon glyphicon-calendar"></i></button>
				</span>
			</p>
			<div collapse="isCollapsedTurnos">
				<div class="well well-lg">
					<datepicker ng-model="mesDesdeTurnos" min-mode="month" datepicker-mode="monthMode" show-weeks="false" ng-change="traerDatosTurnos()" max-date="maxDateTurnos"></datepicker>
				</div>
			</div>
			<div collapse="!isCollapsedTurnos">
				<dynamic-chart
						data="chartDataTurnos"
						title="{{chartTitleTurnos}}"
						width="{{chartsWidth}}"
						height="{{chartsHeight}}"
						select="selectRow(selectedRowIndexTurnos)"
						series="chartSeries"
						colors="barColors"
						type="{{columnChart}}"
						stacked="false"
						currency="false"
						is3-d="false">
				</dynamic-chart>
			</div>
		</div>
		<div class="col-lg-4" ng-show="errorTurnos">
			<div class="alert alert-danger">
				<strong>Error</strong> - No se han podido cargar los datos de los turnos.
				<h6>{{mensajeErrorTurnos}}</h6>
				<span>Presione <a href ng-click="traerDatosTurnos()">aquí</a> para reintentar.</span>
			</div>
		</div>
	</div>

	<div class="row">
		<div class="col-lg-4" ng-show="loadingGatesTurnos">
			<img class="media-object" style="margin-left: 480px; margin-top: 75px" src="images/ajax_loader_gray_512.gif" width="252" height="252">
		</div>
		<div class="col-lg-4 col-lg-offset-3" ng-hide="loadingGatesTurnos" style="visibility: {{ visibleGatesTurnos }}">
			<p class="input-group">
				<input type="text" readonly="true" class="form-control" datepicker-popup="{{format}}" ng-model="diaGatesTurnos" />
				<span class="input-group-btn">
					<button class="btn btn-default" ng-click="isCollapsedDayGatesTurnos = !isCollapsedDayGatesTurnos"><i class="glyphicon glyphicon-calendar"></i></button>
				</span>
			</p>
			<div collapse="isCollapsedDayGatesTurnos">
				<div class="well well-lg">
					<datepicker ng-model="diaGatesTurnos" show-weeks="false" ng-change="traerDatosGatesTurnosDia()" max-date="maxDateGatesTurnos"></datepicker>
				</div>
			</div>
		</div>
		<div class="col-lg-2" ng-hide="loadingGatesTurnos" style="visibility: {{ visibleGatesTurnos }}">
			<div class="btn-group">
				<label class="btn btn-primary" ng-model="radioModel" btn-radio="'Gates'" ng-change="traerDatosGatesTurnosDia()">Gates</label>
				<label class="btn btn-primary" ng-model="radioModel" btn-radio="'Turnos'" ng-change="traerDatosGatesTurnosDia()">Turnos</label>
			</div>
		</div>
		<div class="col-lg-12" collapse="!isCollapsedDayGatesTurnos" style="visibility: {{ visibleGatesTurnos }}">
			<div class="table-responsive">
				<dynamic-chart
						data="chartDataDiaGatesTurnos"
						title="{{chartTitleDiaGatesTurnos}}"
						width="{{chartWidthDiaGatesTurnos}}"
						height="{{chartsHeight}}"
						select="selectRow(selectedRowIndexFacturado)"
						series="chartSeries"
						colors="barColors"
						type="{{columnChart}}"
						currency="false"
						stacked="false"
						is3-d="false">
				</dynamic-chart>
			</div>
		</div>
		<div class="col-lg-4" ng-show="errorGatesTurnos">
			<div class="alert alert-danger">
				<strong>Error</strong> - No se han podido cargar los datos de los turnos.
				<h6>{{mensajeErrorGatesTurnos}}</h6>
				<span>Presione <a href ng-click="traerDatosGatesTurnosDia()">aquí</a> para reintentar.</span>
			</div>
		</div>
	</div>
</div>
