<div class="container" ng-controller="invoicesCtrl">

	<div class="hidden-print">
		<div class="row" data-ng-hide="$state.includes('gates.invoices')">
			<br>
			<div class="col-lg-6">
				<div class="xpage-header">
					<h1 id="forms">Comprobantes</h1>
					<h2>{{ terminal.full_name }}</h2>
				</div>
			</div>
			<div class="col-lg-6" data-ng-hide="$state.includes('invoices.result')">
				<div class="panel panel-default">
					<div class="panel-heading"><strong>Buscar Facturas por</strong></div>
					<div class="panel-body form-horizontal">
						<div class="form-group">
							<div class="col-lg-6">
								<input type="text" ng-keyup="hitEnter($event)" ng-model="nroComprobante" class="form-control" placeholder="N° Comprobante"/>
							</div>
							<div class="col-lg-6">
								<input type="text" ng-keyup="hitEnter($event)" ng-model="razonSocial" class="form-control" placeholder="Raz&oacute;n Social" toupper/>
							</div>
						</div>
						<div class="form-group">
							<div class="col-lg-6">
								<input type="text" ng-keyup="hitEnter($event)" ng-model="documentoCliente" class="form-control" placeholder="Documento del Cliente"/>
							</div>
							<div class="col-lg-6">
								<div class="input-group">
									<span class="input-group-btn"><button class="btn btn-default" ng-click="openDate($event); openFechaDesde = !openFechaDesde;"><span class="glyphicon glyphicon-calendar"></span></button></span>
									<input type="text" class="form-control" ng-keyup="hitEnter($event)" datepicker-popup="{{formatDate}}" ng-model="fechaDesde" is-open="openFechaDesde" datepicker-options="dateOptions" show-button-bar="false" />
									<span class="input-group-btn"><button class="btn btn-primary" ng-click="cargaFacturas()"><span class="glyphicon glyphicon-search"></span></button></span>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="row" data-ng-show="$state.includes('gates.invoices')">
			<fieldset>
				<legend>Facturas del contenedor {{ container }}</legend>
			</fieldset>

		</div>

		<div class="row" data-ng-hide="$state.includes('invoices.result') || $state.includes('gates.invoices.result')">
			<div class="col-lg-12">
				<div class="table-responsive">
					<table class="table table-striped table-bordered table-hover">
						<thead>
						<tr>
							<th>Pto. Venta</th>
							<th>Comprobante</th>
							<th>Nro</th>
							<th>Razón Social</th>
							<th>Fecha</th>
							<th>Importe Total</th>
							<th>Detalles</th>
						</tr>
						</thead>
						<tbody>
						<tr ng-repeat="invoice in invoices">
							<td style="text-align: right">{{ invoice.nroPtoVenta }}</td>
							<td>{{ vouchersType[invoice.codTipoComprob] }}</td>
							<td style="text-align: right">{{ invoice.nroComprob }}</td>
							<td>{{ invoice.razon }}</td>
							<td>{{ invoice.fecha.emision | date: 'dd/MM/yyyy' }}</td>
							<td style="text-align: right">{{ invoice.codMoneda | formatCurrency }} {{ invoice.importe.total | currency }}</td>
							<td><button ui-sref=".result" class="btn btn-primary" ng-click="$parent.verDetalle = invoice"><span class="glyphicon glyphicon-zoom-in"></span> M&aacute;s detalles</button></td>
						</tr>
						</tbody>
					</table>
				</div>
				<div data-ng-hide="$state.includes('gates.invoices')">
					<pagination boundary-links="true" total-items="totalItems" ng-model="currentPage" ng-change="pageChanged()" max-size="5" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></pagination>
				</div>
				<div data-ng-show="$state.includes('gates.invoices')">
					<button class="btn btn-default" ng-click="$state.go('^')"><span class="glyphicon glyphicon-arrow-left"></span> Volver</button>
				</div>
			</div>
		</div>
	</div>

	<div data-ng-show="$state.includes('invoices.result') || $state.includes('gates.invoices.result')">
		<div class="row">
			<div ui-view></div>
		</div>
	</div>

</div>
