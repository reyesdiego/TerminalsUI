<accordion-invoices-search></accordion-invoices-search>
<div class="col-lg-12 text-center" ng-show="cargando">
	<img class="media-object" style="margin-left: 40%; margin-top: 50px" src="images/ajax_loader_gray_512.gif" width="252" height="252">
</div>
<div class="col-lg-12" ng-hide="cargando">
	<div ng-hide="datosFaltantes.length != undefined && filteredDatos.length > 0">
		<div-panel config-panel="configPanel">{{ configPanel.mensaje }}</div-panel>
	</div>
	<div ng-show="datosFaltantes.length != undefined && filteredDatos.length > 0">
		<h5><strong>Resultados: {{ filteredDatos.length }}</strong><span class="visible-print-block"><strong>Mostrando del {{ currentPage * itemsPerPage - (itemsPerPage - 1) }} al {{ currentPage * itemsPerPage > totalItems ? totalItems : currentPage * itemsPerPage }} (página {{ currentPage }})</strong></span></h5>
		<div class="table-responsive" ng-hide="cargando">
			<table class="table table-striped table-bordered table-hover" style="text-align: center">
				<thead>
				<tr>
					<th style="text-align: center"><a href="" ng-click="ordenarPor('gateTimestamp')">
						<span class="glyphicon glyphicon-sort-by-attributes" ng-show="predicate == 'gateTimestamp' && !reverse"></span>
						<span class="glyphicon glyphicon-sort-by-attributes-alt" ng-show="predicate == 'gateTimestamp' && reverse"></span>
						Fecha
					</a></th>
					<th style="text-align: center"><a href="" ng-click="ordenarPor('buque')">
						<span class="glyphicon glyphicon-sort-by-attributes" ng-show="predicate == 'buque' && !reverse"></span>
						<span class="glyphicon glyphicon-sort-by-attributes-alt" ng-show="predicate == 'buque' && reverse"></span>
						Buque
					</a></th>
					<th style="text-align: center"><a href="" ng-click="ordenarPor('viaje')">
						<span class="glyphicon glyphicon-sort-by-attributes" ng-show="predicate == 'viaje' && !reverse"></span>
						<span class="glyphicon glyphicon-sort-by-attributes-alt" ng-show="predicate == 'viaje' && reverse"></span>
						Viaje
					</a></th>
					<th style="text-align: center"><a href="" ng-click="ordenarPor('contenedor')">
						<span class="glyphicon glyphicon-sort-by-attributes" ng-show="predicate == 'contenedor' && !reverse"></span>
						<span class="glyphicon glyphicon-sort-by-attributes-alt" ng-show="predicate == 'contenedor' && reverse"></span>
						Contenedor
					</a></th>
					<th style="text-align: center"><a href="" ng-click="ordenarPor('patenteCamion')">
						<span class="glyphicon glyphicon-sort-by-attributes" ng-show="predicate == 'patenteCamion' && !reverse"></span>
						<span class="glyphicon glyphicon-sort-by-attributes-alt" ng-show="predicate == 'patenteCamion' && reverse"></span>
						Patente camión
					</a></th>
					<th style="text-align: center"><a href="" ng-click="ordenarPor('tipo')">
						<span class="glyphicon glyphicon-sort-by-attributes" ng-show="predicate == 'tipo' && !reverse"></span>
						<span class="glyphicon glyphicon-sort-by-attributes-alt" ng-show="predicate == 'tipo' && reverse"></span>
						Tipo
					</a></th>
					<th style="text-align: center">
						Horario
					</th>
					<th style="text-align: center"><a href="" ng-click="ordenarPor('turnoInicio')">
						<span class="glyphicon glyphicon-sort-by-attributes" ng-show="predicate == 'turnoInicio' && !reverse"></span>
						<span class="glyphicon glyphicon-sort-by-attributes-alt" ng-show="predicate == 'turnoInicio' && reverse"></span>
						Inicio turno
					</a></th>
					<th style="text-align: center"><a href="" ng-click="ordenarPor('turnoFin')">
						<span class="glyphicon glyphicon-sort-by-attributes" ng-show="predicate == 'turnoFin' && !reverse"></span>
						<span class="glyphicon glyphicon-sort-by-attributes-alt" ng-show="predicate == 'turnoFin' && reverse"></span>
						Fin turno
					</a></th>
					<th style="text-align: center"><a href="" ng-click="ordenarPor('mov')">
						<span class="glyphicon glyphicon-sort-by-attributes" ng-show="predicate == 'mov' && !reverse"></span>
						<span class="glyphicon glyphicon-sort-by-attributes-alt" ng-show="predicate == 'mov' && reverse"></span>
						Movimiento
					</a></th>
				</tr>
				</thead>
				<tbody>
				<tr ng-repeat="registro in filteredDatos = (datosFaltantes | dateRange : model.fechaInicio : model.fechaFin) | orderBy: predicate : reverse | startFrom:(currentPage-1) * model.itemsPerPage | limitTo:model.itemsPerPage">
					<td>{{ registro.gateTimestamp | date: 'dd/MM/yyyy' }}</td>
					<td>{{ registro.buque }}</td>
					<td>{{ registro.viaje }}</td>
					<td>{{ registro.contenedor }}</td>
					<td>{{ registro.patenteCamion }}</td>
					<td><span class="label" ng-class="{'label-success' : registro.tipo == 'IN', 'label-danger' : registro.tipo == 'OUT'}">{{ registro.tipo }}</span></td>
					<td ng-init="colorH = colorHorario(registro)" ng-style="{'color': colorH}">{{ registro.gateTimestamp | date: 'HH:mm' }}</td>
					<td>{{ registro.turnoInicio | date: 'HH:mm' }}</td>
					<td>{{ registro.turnoFin | date: 'HH:mm' }}</td>
					<td>{{ registro.mov }}</td>
				</tr>
			</table>
		</div>
	</div>
</div>
<div-pagination total-items="filteredDatos.length" current-page="currentPage" items-per-page="model.itemsPerPage"></div-pagination>