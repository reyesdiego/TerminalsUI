<div class="container" ng-controller="pricelistCtrl">

	<div class="row">
		<div class="col-lg-12">
			<h1><img src="images/tarifario.png" height="64" width="50" class="hidden-xs">Tarifario</h1>
		</div>
	</div>

	<div class="row">
		<div class="col-lg-12">
			<div class="input-group">
				<input type="text" class="form-control" ng-model="search" placeholder="Buscar por c贸digo, descripci贸n o tarifa" toupper>
				<span class="input-group-btn"><button class="btn btn-default" ng-click="search = ''"><span class="glyphicon glyphicon-remove-circle"></span></button></span>
			</div>
			<div class="checkbox">
				<label>
					<input type="checkbox" ng-model="tasas" ng-change="cargaPricelist()">S贸lo tasa a las cargas
				</label>
			</div>
		</div>
	</div>

	<div class="row">
		<div class="col-lg-12">
			<div class="bs-example table-responsive">
				<table class="table table-striped table-bordered table-hover">
					<thead>
					<tr>
						<th style="width: 15%"><a href="" ng-click="ordenarPor('code')">
							<span class="glyphicon glyphicon-sort-by-attributes" ng-show="predicate == 'code' && !reverse"></span>
							<span class="glyphicon glyphicon-sort-by-attributes-alt" ng-show="predicate == 'code' && reverse"></span>
							<span class="glyphicon glyphicon-bookmark"></span> C贸digo
						</a></th>
						<th style="width: 60%"><a href="" ng-click="ordenarPor('description')">
							<span class="glyphicon glyphicon-sort-by-attributes" ng-show="predicate == 'description' && !reverse"></span>
							<span class="glyphicon glyphicon-sort-by-attributes-alt" ng-show="predicate == 'description' && reverse"></span>
							<span class="glyphicon glyphicon-credit-card"></span> Tarifa
						</a></th>
						<th style="width: 15%"><a href="" ng-click="ordenarPor('unit')">
							<span class="glyphicon glyphicon-sort-by-attributes" ng-show="predicate == 'unit' && !reverse"></span>
							<span class="glyphicon glyphicon-sort-by-attributes-alt" ng-show="predicate == 'unit' && reverse"></span>
							<span class="glyphicon glyphicon-tag"></span> Unidad
						</a></th>
						<th style="width: 10%"><a href="" ng-click="ordenarPor('topPrice')">
							<span class="glyphicon glyphicon-sort-by-attributes" ng-show="predicate == 'topPrice' && !reverse"></span>
							<span class="glyphicon glyphicon-sort-by-attributes-alt" ng-show="predicate == 'topPrice' && reverse"></span>
							<span class="glyphicon glyphicon-usd"></span> Tope
						</a></th>
					</tr>
					</thead>
					<tbody>
					<tr style="height:60px" ng-repeat="price in filteredPrices = (pricelist | orderBy: predicate : reverse | startFrom:(currentPage-1)*itemsPerPage | limitTo:itemsPerPage | filter:search)">
						<td style="width: 15%">{{ price.code }}</td>
						<td style="width: 60%">{{ price.description | maxLength : 240 }}<a href="" ng-show="(price.description.length > 240)" popover="{{ price.description }}" popover-trigger="mouseenter"> (...)</a></td>
						<td style="width: 15%">{{ price.unit}}</td>
						<td style="text-align: right; width: 10%" >{{ price.currency | formatCurrency }}{{ price.topPrice }}</td>
					</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>

	<div-pagination total-items="totalItems" current-page="currentPage"></div-pagination>

</div>
