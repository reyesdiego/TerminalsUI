<div class="container agp">

	<div class="row">
		<div class="col-lg-4">
			<div class="xpage-header">
				<h1 id="forms">Reportes</h1>
			</div>
		</div>

		<div class="col-lg-8 well">
			<div class="row">
				<div class="col-lg-6">
					<label for="fechaDesde">Desde</label>
					<p class="input-group">
						<input type="text" class="form-control" id="fechaDesde" datepicker-popup="{{format}}" ng-model="desde"  is-open="openFechaDesde" datepicker-options="dateOptions" show-button-bar="false" show-weeks="false" ng-required="true" />
						<span class="input-group-btn">
							<button class="btn btn-default" ng-click="open($event, 'desde')"><i class="glyphicon glyphicon-calendar"></i></button>
						</span>
					</p>
				</div>
				<div class="col-lg-6">
					<label for="fechaHasta">Hasta</label>
					<p class="input-group">
						<input type="text" class="form-control" id="fechaHasta" datepicker-popup="{{format}}" ng-model="hasta"  is-open="openFechaHasta" datepicker-options="dateOptions" show-button-bar="false" show-weeks="false" ng-required="true" />
						<span class="input-group-btn">
							<button class="btn btn-default" ng-click="open($event, 'hasta')"><i class="glyphicon glyphicon-calendar"></i></button>
						</span>
					</p>
				</div>
			</div>
			<div class="row">
				<div class="col-lg-6">
					<label for="selectComprobante" >Tipo de comprobante</label>
					<select class="form-control" id="selectComprobante" ng-model="tipoComprobante">
						<option ng-repeat="comprobante in comprobantesTipos" value="{{ comprobante._id }}" ng-selected="$first">{{ comprobante.description }}</option>
					</select>
				</div>
				<div class="col-lg-6">
					<br>
					<button class="btn btn-default" ui-sref="control"><span class="glyphicon glyphicon-arrow-left"></span> Volver</button>
					<button class="btn btn-primary" ng-click="cargar()"><span class="glyphicon glyphicon-asterisk"></span> Cargar</button>
				</div>
			</div>
		</div>
	</div>

	<div class="row">
		<tabset>
			<tab heading="Reporte de códigos">
				<div class="row">
					<div class="col-lg-8">
						<div class="bs-example table-responsive">
							<table class="table table-striped table-bordered table-hover">
								<thead>
								<tr>
									<th><span class="glyphicon glyphicon-bookmark"></span> Código</th>
									<th><span class="glyphicon glyphicon-credit-card"></span> Tarifa</th>
									<th><span class="glyphicon glyphicon-check"></span> Seleccionar</th>
								</tr>
								</thead>
								<tbody>
								<tr style="height:60px" ng-repeat="price in filteredPrices">
									<td class="col-lg-1">{{ price.code }}</td>
									<td class="col-lg-9">{{ price.description | maxLength : 240 }}<a href="" ng-show="(price.description.length > 240)" popover="{{ price.description }}" popover-trigger="mouseenter"> (...)</a></td>
									<td class="col-lg-1">{{ price.unit}}</td>
								</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>

				<div class="text-center"><pagination boundary-links="true" total-items="totalItems" ng-model="currentPage" ng-change="pageChanged()" max-size="20" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></pagination></div>
			</tab>
			<tab heading="Tarifas más utilizadas" select="cargarReporteTarifas()">
				<div class="row well">
					<div class="row col-lg-12" style="text-align: center"><h1>BACTSSA</h1></div>
					<div class="row">
						<div class="col-lg-6">
							<br>
							<table class="table table-bordered table-hover table-responsive">
								<thead class="bg-info">
								<th>Código</th>
								<th>Descripción</th>
								<th>Cantidad</th>
								</thead>
								<tbody>
								<tr ng-repeat="codigo in resultadosTarifasBactssa | orderBy: codigo[2]">
									<td>{{ codigo[0] }}</td>
									<td>{{ codigo[1] }}</td>
									<td>{{ codigo[2] }}</td>
								</tr>
								</tbody>
							</table>
						</div>
						<div class="col-lg-6">
							<dynamic-chart
									data="chartDataTarifasBactssa"
									title="{{chartTitleTortaHorarios}}"
									width="{{chartWidthTortaHorarios}}"
									height="{{chartHeightTortaHorarios}}"
									select="selectRow(selectedRowIndexTarifasBactssa)"
									type="{{pieChart}}"
									currency="false"
									stacked="false"
									is3-d="true">
							</dynamic-chart>
						</div>
					</div>
				</div>
				<hr>
				<div class="row well">
					<div class="row col-lg-12" style="text-align: center"><h1>TERMINAL 4</h1></div>
					<div class="row">
						<div class="col-lg-6">
							<br>
							<table class="table table-bordered table-hover table-responsive">
								<thead class="bg-info">
								<th>Código</th>
								<th>Descripción</th>
								<th>Cantidad</th>
								</thead>
								<tbody>
								<tr ng-repeat="codigo in resultadosTarifasTerminal4 | orderBy: codigo[2]">
									<td>{{ codigo[0] }}</td>
									<td>{{ codigo[1] }}</td>
									<td>{{ codigo[2] }}</td>
								</tr>
								</tbody>
							</table>
						</div>
						<div class="col-lg-6">
							<dynamic-chart
									data="chartDataTarifasTerminal4"
									title="{{chartTitleTortaHorarios}}"
									width="{{chartWidthTortaHorarios}}"
									height="{{chartHeightTortaHorarios}}"
									select="selectRow(selectedRowIndexTarifasTerminal4)"
									type="{{pieChart}}"
									currency="false"
									stacked="false"
									is3-d="true">
							</dynamic-chart>
						</div>
					</div>
				</div>
				<div class="row well">
					<div class="row col-lg-12" style="text-align: center"><h1>Terminal Río de la Plata</h1></div>
					<div class="row">
						<div class="col-lg-6">
							<br>
							<table class="table table-bordered table-hover table-responsive">
								<thead class="bg-info">
								<th>Código</th>
								<th>Descripción</th>
								<th>Cantidad</th>
								</thead>
								<tbody>
								<tr ng-repeat="codigo in resultadosTarifasTrp | orderBy: codigo[2]">
									<td>{{ codigo[0] }}</td>
									<td>{{ codigo[1] }}</td>
									<td>{{ codigo[2] }}</td>
								</tr>
								</tbody>
							</table>
						</div>
						<div class="col-lg-6">
							<dynamic-chart
									data="chartDataTarifasTrp"
									title="{{chartTitleTortaHorarios}}"
									width="{{chartWidthTortaHorarios}}"
									height="{{chartHeightTortaHorarios}}"
									select="selectRow(selectedRowIndexTarifasTrp)"
									type="{{pieChart}}"
									currency="false"
									stacked="false"
									is3-d="true">
							</dynamic-chart>
						</div>
					</div>
				</div>
			</tab>
			<tab heading="Porcentaje de cumplimientos de horarios" select="cargarReporteHorarios()">
				<div class="row well">
					<div class="row col-lg-12" style="text-align: center"><h1>BACTSSA</h1></div>
					<div class="col-lg-6">
						<br>
						<div class="row">
							<table class="table table-bordered table-hover table-responsive">
								<thead class="bg-info">
									<th colspan="2" style="width: 50%; text-align: center">Turnos totales</th>
									<th colspan="2" style="width: 50%; text-align: center">Turnos incumplidos</th>
								</thead>
								<thead class="bg-success">
									<th style="width: 25%">Programados</th>
									<th style="width: 25%">Sin programar</th>
									<th style="width: 25%">Ausencias</th>
									<th style="width: 25%">Tardes</th>
								</thead>
								<tr>
									<td>{{ chartDataTortaBactssa[0][1] + chartDataTortaBactssa[1][1] + chartDataTortaBactssa[2][1] }}</td>
									<td>{{ chartDataTortaBactssa[3][1] }}</td>
									<td>{{ chartDataTortaBactssa[1][1] }}</td>
									<td>{{ chartDataTortaBactssa[2][1] }}</td>
								</tr>
							</table>
						</div>
						<div class="row">
							<dynamic-chart
									data="chartDataBarrasBactssa"
									title="{{chartTitleBarrasHorarios}}"
									width="{{chartWidthBarrasHorarios}}"
									height="{{chartHeightBarrasHorarios}}"
									select="selectRow(selectedRowIndexBarrasBactssa)"
									type="{{columnChart}}"
									currency="false"
									stacked="false"
									is3-d="false">
							</dynamic-chart>
						</div>
					</div>
					<div class="col-lg-6">
						<dynamic-chart
								data="chartDataTortaBactssa"
								title="{{chartTitleTortaHorarios}}"
								width="{{chartWidthTortaHorarios}}"
								height="{{chartHeightTortaHorarios}}"
								select="selectRow(selectedRowIndexTortaBactssa)"
								type="{{pieChart}}"
								stacked="false"
								currency="false"
								is3-d="true">
						</dynamic-chart>
					</div>
				</div>
				<hr>
				<div class="row well">
					<div class="row col-lg-12" style="text-align: center"><h1>TERMINAL 4</h1></div>
					<div class="col-lg-6">
						<br>
						<div class=" row">
							<table class="table table-bordered table-hover table-responsive">
								<thead class="bg-info">
									<th colspan="2" style="width: 50%; text-align: center">Turnos totales</th>
									<th colspan="2" style="width: 50%; text-align: center">Turnos incumplidos</th>
								</thead>
								<thead class="bg-success">
									<th style="width: 25%">Programados</th>
									<th style="width: 25%">Sin programar</th>
									<th style="width: 25%">Ausencias</th>
									<th style="width: 25%">Tardes</th>
								</thead>
								<tr>
									<td>{{ chartDataTortaTerminal4[0][1] + chartDataTortaTerminal4[1][1] + chartDataTortaTerminal4[2][1] }}</td>
									<td>{{ chartDataTortaTerminal4[3][1] }}</td>
									<td>{{ chartDataTortaTerminal4[1][1] }}</td>
									<td>{{ chartDataTortaTerminal4[2][1] }}</td>
								</tr>
							</table>
						</div>
						<div class="row">
							<dynamic-chart
									data="chartDataBarrasTerminal4"
									title="{{chartTitleBarrasHorarios}}"
									width="{{chartWidthBarrasHorarios}}"
									height="{{chartHeightBarrasHorarios}}"
									select="selectRow(selectedRowIndexBarrasTerminal4)"
									type="{{columnChart}}"
									currency="false"
									stacked="false"
									is3-d="false">
							</dynamic-chart>
						</div>
					</div>
					<div class="col-lg-6">
						<dynamic-chart
								data="chartDataTortaTerminal4"
								title="{{chartTitleTortaHorarios}}"
								width="{{chartWidthTortaHorarios}}"
								height="{{chartHeightTortaHorarios}}"
								select="selectRow(selectedRowIndexTortaTerminal4)"
								type="{{pieChart}}"
								stacked="false"
								currency="false"
								is3-d="true">
						</dynamic-chart>
					</div>
				</div>
				<hr>
				<div class="row well">
					<div class="row col-lg-12" style="text-align: center"><h1>Terminal Río de la Plata</h1></div>
					<div class="col-lg-6">
						<br>
						<div class=" row">
							<table class="table table-bordered table-hover table-responsive">
								<thead class="bg-info">
									<th colspan="2" style="width: 50%; text-align: center">Turnos totales</th>
									<th colspan="2" style="width: 50%; text-align: center">Turnos incumplidos</th>
								</thead>
								<thead class="bg-success">
									<th style="width: 25%">Programados</th>
									<th style="width: 25%">Sin programar</th>
									<th style="width: 25%">Ausencias</th>
									<th style="width: 25%">Tardes</th>
								</thead>
								<tr>
									<td>{{ chartDataTortaTrp[0][1] + chartDataTortaTrp[1][1] + chartDataTortaTrp[2][1] }}</td>
									<td>{{ chartDataTortaTrp[3][1] }}</td>
									<td>{{ chartDataTortaTrp[1][1] }}</td>
									<td>{{ chartDataTortaTrp[2][1] }}</td>
								</tr>
							</table>
						</div>
						<div class="row">
							<dynamic-chart
									data="chartDataBarrasTrp"
									title="{{chartTitleBarrasHorarios}}"
									width="{{chartWidthBarrasHorarios}}"
									height="{{chartHeightBarrasHorarios}}"
									select="selectRow(selectedRowIndexBarrasTrp)"
									type="{{columnChart}}"
									currency="false"
									stacked="false"
									is3-d="false">
							</dynamic-chart>
						</div>
					</div>
					<div class="col-lg-6">
						<dynamic-chart
								data="chartDataTortaTrp"
								title="{{chartTitleTortaHorarios}}"
								width="{{chartWidthTortaHorarios}}"
								height="{{chartHeightTortaHorarios}}"
								select="selectRow(selectedRowIndexTortaTrp)"
								type="{{pieChart}}"
								stacked="false"
								currency="false"
								is3-d="true">
						</dynamic-chart>
					</div>
				</div>
			</tab>
		</tabset>
	</div>

</div>